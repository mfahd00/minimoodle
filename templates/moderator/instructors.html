{% extends 'base.html' %}
{% block title %}Instructors | LAP{% endblock %}

{% block content %}
<div class="container py-4 d-flex justify-content-center">
  <div class="overlay-box w-100" style="max-width: 1050px;">
    <div class="p-4">
      <h3 class="fw-bold mb-4 text-center section-heading">Instructors</h3>

      {% if instructors %}
      <div class="table-responsive">
        <table class="table align-middle text-center mb-0">
          <thead class="table-gradient text-white">
            <tr>
              <th>#</th>
              <th>Username</th>
              <th>Email</th>
              <th>Department</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for profile in instructors %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ profile.user.username }}</td>
              <td>{{ profile.user.email }}</td>
              <td>
                {% if profile.department %}
                  {{ profile.department.name }}
                {% else %}
                  <span class="text-muted">â€”</span>
                {% endif %}
              </td>
              <td>
                {% if profile.is_approved %}
                  <span class="badge bg-success">Approved</span>
                {% else %}
                  <span class="badge bg-warning text-dark">Pending</span>
                {% endif %}
              </td>
              <td>
                {% if profile.is_approved %}
                  <a href="{% url 'remove_instructor' profile.user.id %}" class="btn btn-danger btn-sm px-3">
                    Remove
                  </a>
                {% else %}
                  <a href="{% url 'approve_instructor' profile.user.id %}" class="btn btn-success btn-sm px-3">
                    Approve
                  </a>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <p class="text-center text-muted mt-3">No instructors found.</p>
      {% endif %}
    </div>
  </div>
</div>

<style>
.table-gradient {
  background: linear-gradient(135deg, #1a4a8c 0%, #2a7df5 100%);
}
.table {
  border-radius: 1rem;
  overflow: hidden;
}
.table tbody tr:hover {
  background-color: rgba(0, 0, 0, 0.05);
  transition: 0.2s;
}
</style>
{% endblock %}
