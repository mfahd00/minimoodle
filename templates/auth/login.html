{% extends 'base.html' %}
{% load static %}

{% block title %}Login | LAP{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 85vh;">
  <div class="form-container shadow-lg p-4" style="max-width: 460px; width: 100%; border-radius: 15px;">

    <h2 class="fw-bold text-center mb-4">Welcome Back</h2>

    <ul class="nav nav-tabs justify-content-center mb-4 border-0" id="loginTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link px-4 fw-semibold {% if show_tab != 'instructor' %}active{% endif %}"
          id="student-tab"
          data-bs-toggle="tab"
          data-bs-target="#student"
          type="button"
          role="tab"
          aria-controls="student"
          aria-selected="true"
        >
          üë®‚Äçüéì Student
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link px-4 fw-semibold {% if show_tab == 'instructor' %}active{% endif %}"
          id="instructor-tab"
          data-bs-toggle="tab"
          data-bs-target="#instructor"
          type="button"
          role="tab"
          aria-controls="instructor"
          aria-selected="false"
        >
          üë©‚Äçüè´ Instructor
        </button>
      </li>
    </ul>

    <div class="tab-content mt-3">
      <div class="tab-pane fade {% if show_tab != 'instructor' %}show active{% endif %}" id="student" role="tabpanel">
        {% if student_error %}
          <div class="alert alert-warning small">{{ student_error }}</div>
        {% endif %}
        <form method="POST" action="{% url 'login_student' %}">
          {% csrf_token %}
          <div class="mb-3">
            <label for="student_username" class="form-label fw-medium">Username</label>
            <input type="text" class="form-control" id="student_username" name="username" placeholder="Enter your username" required>
          </div>
          <div class="mb-4">
            <label for="student_password" class="form-label fw-medium">Password</label>
            <input type="password" class="form-control" id="student_password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          </div>
          <button type="submit" class="btn w-100 py-2">Login as Student</button>
        </form>
      </div>


      <div class="tab-pane fade {% if show_tab == 'instructor' %}show active{% endif %}" id="instructor" role="tabpanel">
        {% if instructor_error %}
          <div class="alert alert-warning small">{{ instructor_error }}</div>
        {% endif %}
        <form method="POST" action="{% url 'login_instructor' %}">
          {% csrf_token %}
          <div class="mb-3">
            <label for="instructor_username" class="form-label fw-medium">Username</label>
            <input type="text" class="form-control" id="instructor_username" name="username" placeholder="Enter your username" required>
          </div>
          <div class="mb-4">
            <label for="instructor_password" class="form-label fw-medium">Password</label>
            <input type="password" class="form-control" id="instructor_password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          </div>
          <button type="submit" class="btn w-100 py-2">Login as Instructor</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
  .nav-tabs .nav-link {
    border: none;
    color: var(--bs-body-color) !important;
    background: transparent;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .nav-tabs .nav-link.active {
    background: linear-gradient(135deg, #0a58ca, #084bb5);
    color: #fff !important;
    border-radius: 12px;
    box-shadow: 0 3px 12px rgba(26, 74, 140, 0.25);
  }

  body.light-mode .nav-tabs .nav-link {
    color: #212529 !important;
  }

  body.dark-mode .nav-tabs .nav-link {
    color: #f8f9fa !important;
  }

  input::placeholder {
    color: #6c757d !important;
    opacity: 1 !important;
  }

  body.dark-mode input::placeholder {
    color: #e1e1e1 !important;
    opacity: 1 !important;
  }

  body.light-mode .form-label {
    color: #212529 !important;
  }

  body.dark-mode .form-label {
    color: #f8f9fa !important;
  }

  .form-control {
    background-color: rgba(255, 255, 255, 0.9);
    color: #212529;
    border-radius: 8px;
  }

  body.dark-mode .form-control {
    background-color: rgba(255, 255, 255, 0.1);
    color: #f8f9fa;
  }

  .form-control:focus {
    border-color: #2a7df5;
    box-shadow: 0 0 8px rgba(42, 125, 245, 0.5);
  }

  .btn {
    background: linear-gradient(135deg, #0a58ca, #084bb5);
    color: #fff;
    border: none;
    border-radius: 10px;
    transition: 0.3s;
  }

  .btn:hover {
    background: linear-gradient(135deg, #2a7df5, #1a4a8c);
    box-shadow: 0 3px 12px rgba(42, 125, 245, 0.4);
  }
</style>
{% endblock %}
