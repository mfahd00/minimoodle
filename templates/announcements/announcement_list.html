{% extends 'base.html' %}
{% block title %}Announcements | LAP{% endblock %}

{% block content %}
<div class="container py-5">
  <h4 class="fw-bold text-center mb-4">Recent Announcements</h4>

  {% if announcements %}
    {% for a in announcements %}
      <div class="course-card mb-3 mx-auto p-3" style="max-width: 900px;">
        <h5 class="fw-bold section-heading">{{ a.title }}</h5>
        <p class="mb-2">{{ a.message }}</p>
        <small>
          Posted in <strong>{{ a.course.title }}</strong> by {{ a.created_by.username }} 
          on {{ a.created_at|date:"M d, Y H:i" }}
        </small>
        <div class="mt-3 text-end">
          <a href="{% url 'course_detail' a.course.id %}" class="btn btn-outline-primary btn-sm">
            View Course
          </a>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="text-center text-muted">No announcements yet.</div>
  {% endif %}
</div>

{% if user.is_authenticated and user.profile.is_instructor %}
<div class="fab-container position-fixed" style="bottom: 30px; right: 30px; z-index: 1050;">
  <a href="{% url 'create_announcement' %}" class="fab-btn d-flex align-items-center justify-content-center text-white text-decoration-none">
    <span class="fab-icon">+</span>
    <span class="fab-text ms-2">Create</span>
  </a>
</div>
{% endif %}
{% endblock %}
